<!DOCTYPE html>
<html lang="zh-Hans"
  x-data
  :class="$store.darkMode.class()"
  :data-theme="$store.darkMode.theme()">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python | </title>

    
<link href="/favicon.ico" rel="icon" type="image/x-icon" />


<link rel="canonical" href="http://localhost:1313/posts/program/python/python/" />



<meta name="author" content="sy" />
<meta name="description" content="" />


<meta name="keywords" content="Program,Python">



<meta name="generator" content="Hugo 0.136.2">


<meta property="og:url" content="http://localhost:1313/posts/program/python/python/">
  <meta property="og:title" content="Python">
  <meta property="og:description" content="shiyue&#39;s life record～">
  <meta property="og:locale" content="zh_Hans">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-05T11:18:47+08:00">
    <meta property="article:modified_time" content="2024-11-05T11:18:47+08:00">
    <meta property="article:tag" content="Program">
    <meta property="article:tag" content="Python">
    <meta property="og:image" content="http://localhost:1313/img/background.jpg">




  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/img/background.jpg">
  <meta name="twitter:title" content="Python">
  <meta name="twitter:description" content="shiyue&#39;s life record～">




<link rel="stylesheet" href="/css/output.css" />




    


<style>
  pre {
    padding: 1em;
    overflow: auto;
  }
</style>









    

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>

  <body x-data="{
    flip: false,
  }">
    
    <div id="dream-global-bg"></div>

    
<nav x-data="{ isSticky: false }"
  x-init="window.addEventListener('scroll', () => { isSticky = window.scrollY > 30 })"
  class="sticky top-0 z-30 mt-4 lg:mt-8 py-4"
  :class="{ 'bg-base-100 shadow-lg dark:border-b dark:border-base-content/30': isSticky }">

  
  <div class="container flex justify-between px-4">
  
    <section class="flex items-center gap-4">
      <div class="avatar cursor-pointer hover:online" @click="flip = !flip" title="Flip it!">
        <div class="h-10 rounded-full">
          <img src="/img/head.jpg" alt="shiyue&#39;s Blog" />
        </div>
      </div>

      
      <div>
        
        <a href="http://localhost:1313/" class="text-lg font-semibold cursor-pointer">
          shiyue&#39;s Blog
        </a>
        
        
        <div class="text-base-content/60 text-sm">实践是检验真理的唯一标准。在危险环境中表示绝望的人，在黑暗中看不见光明的人，只是懦夫与机会主义者。  ——毛泽东</div>
        
      </div>
      
    </section>

    <div class="dropdown dropdown-end sm:hidden">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square" aria-label="Select an option">
        <ion-icon name="menu" class="text-2xl"></ion-icon>
      </div>
      <ul class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-md">
        


<li>
  <div role="link" tabindex="0" class="inline-flex items-center p-2 cursor-pointer" @click="flip = !flip" title="About">
    <ion-icon name="information-circle"></ion-icon>About</div>
</li>
















<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="Archives">
    <ion-icon name="archive"></ion-icon>
    Archives
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/categories" title="All Categories">
    <ion-icon name="grid"></ion-icon>
    All Categories
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="All Tags">
    <ion-icon name="pricetags"></ion-icon>
    All Tags
  </a>
</li>






      </ul>
    </div>
    <section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4">
      
      
      
      <div role="link" tabindex="0" class="text-sm font-semibold cursor-pointer hover:underline" @click="flip = !flip" title="About">About</div>
      
      

      
      
        
      

      

      
      
      
      





      

      <div class="dropdown dropdown-end dropdown-hover">
        <div tabindex="0" role="button" class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" aria-label="Select an option">
          <ion-icon class="group-hover:text-primary-content text-xl" name="menu"></ion-icon>
        </div>
        <ul class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-xl">
          
          
<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="Archives">
    <ion-icon name="archive"></ion-icon>
    Archives
  </a>
</li>


          
          
<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/categories" title="All Categories">
    <ion-icon name="grid"></ion-icon>
    All Categories
  </a>
</li>


          
          
<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="All Tags">
    <ion-icon name="pricetags"></ion-icon>
    All Tags
  </a>
</li>


          

          
        </ul>
      </div>
      
    </section>
  </div>
</nav>


    <div class="flip-container" :class="{ 'flip-it': flip }">
      <div class="flipper">
        <div class="front">
          <div class="container">
            
<div class="mt-4 px-4">
  
  <div class="relative" x-data="{ height: '' }" x-init="height = $el.scrollHeight + 'px'">
  
    
    <div class="absolute right-0 lg:w-36 xl:w-48 hidden lg:block" :style="{ height }">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#interview">interview</a></li>
        <li><a href="#系统设计">系统设计</a></li>
        <li><a href="#设计模式">设计模式</a></li>
        <li><a href="#工具">工具</a></li>
      </ul>
    </li>
    <li><a href="#进程池协程">进程池+协程</a>
      <ul>
        <li><a href="#协程的缺点">协程的缺点：</a></li>
        <li><a href="#线程之间通讯">线程之间通讯</a></li>
      </ul>
    </li>
    <li><a href="#装饰器">装饰器</a>
      <ul>
        <li><a href="#实用函数">实用函数</a></li>
      </ul>
    </li>
    <li><a href="#排序算法">排序算法</a></li>
    <li><a href="#资料">资料</a></li>
    <li><a href="#书籍">书籍</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#known">known</a>
      <ul>
        <li></li>
        <li><a href="#垃圾回收及内存管理">垃圾回收及内存管理</a></li>
      </ul>
    </li>
    <li><a href="#设计模式-1">设计模式</a>
      <ul>
        <li><a href="#6原则">6原则</a></li>
      </ul>
    </li>
    <li><a href="#class">Class</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#interview-1">interview</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>

      <div class="dream-adsense px-5">
      
      </div>
    </div>
    
    <article class="mx-auto prose prose-quoteless dark:prose-invert" id="dream-single-post-main" itemscope itemtype="http://schema.org/Article">
      
  <meta itemprop="name" content="Python">
  <meta itemprop="description" content="shiyue&#39;s life record～">
  <meta itemprop="datePublished" content="2024-11-05T11:18:47+08:00">
  <meta itemprop="dateModified" content="2024-11-05T11:18:47+08:00">
  <meta itemprop="wordCount" content="1930">
  <meta itemprop="image" content="http://localhost:1313/img/background.jpg">
  <meta itemprop="keywords" content="Program,Python">

      <header>
        <h1 itemprop="headline">Python</h1>
        <p class="text-sm">
          
            <span data-format="luxon">2024-11-05T11:18:47&#43;08:00</span>
          

          | <span>10 minute read</span>

          
          | <span>Updated at
            
              <span data-format="luxon">2024-11-05T11:18:47&#43;08:00</span>
            </span>
          
        </p>
        <div class="flex justify-between">
          <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">sy</span>
    
  
  </span>
</div>


          <div class="flex items-center gap-2">
  
  

  
  
  
  
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://x.com/intent/post?text=Python&amp;url=http://localhost:1313/posts/program/python/python/" target="_blank" rel="noopener noreferrer"
      title="Share on X">
      <ion-icon class="group-hover:text-primary-content" name="logo-x"></ion-icon>
    </a>
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://facebook.com/sharer/sharer.php?u=http://localhost:1313/posts/program/python/python/" target="_blank" rel="noopener noreferrer"
      title="Share on Facebook">
      <ion-icon class="group-hover:text-primary-content" name="logo-facebook"></ion-icon>
    </a>
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://wa.me/?text=Python%20http://localhost:1313/posts/program/python/python/" target="_blank" rel="noopener noreferrer"
      title="Share on WhatsApp">
      <ion-icon class="group-hover:text-primary-content" name="logo-whatsapp"></ion-icon>
    </a>
  

  
  
</div>

        </div>
      </header>

      
      <img src="/img/python.jpg" alt="Python" />
      

      <hr>
<p>name: SY<br>
signature: &lsquo;@玥&rsquo;<br>
avatar: <a href="https://imgse.com/i/pAsGxGq"><img src="https://s21.ax1x.com/2024/11/05/pAsGxGq.md.jpg" alt="pAsGxGq.md.jpg"></a>
date: 2024-11-05T11:30:00+08:00<br>
tags:<br>
- 编程笔记</p>
<h3 id="interview">interview</h3>
<p><a href="https://leetcode.cn/studyplan/top-interview-150/">leetcode面试经典 150 题</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/43504771">Python面试笔试题</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/38226619">python后端面试题大全</a></p>
<p><a href="https://blog.csdn.net/hpwzjz/article/details/81412988">Python后端工程师面试题</a></p>
<p><a href="https://interview.apachecn.org/">面试指南</a></p>
<p><a href="https://programmercarl.com/0239.%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%9C%80%E5%A4%A7%E5%80%BC.html">算法刷题</a></p>
<p>· 列表是动态的，其底层实现是可变的数组，可以重新分配它的大小，但是元组是静态的，它的空间一旦分配，就不可改变。</p>
<h3 id="系统设计">系统设计</h3>
<p><a href="https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md">https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md</a></p>
<p><a href="https://github.com/checkcheckzz/system-design-interview">https://github.com/checkcheckzz/system-design-interview</a></p>
<p><a href="https://gist.github.com/vasanthk/485d1c25737e8e72759f">https://gist.github.com/vasanthk/485d1c25737e8e72759f</a></p>
<h3 id="设计模式">设计模式</h3>
<p><a href="https://github.com/Elvisambition/sweetalk-design-pattern">https://github.com/Elvisambition/sweetalk-design-pattern</a></p>
<h3 id="工具">工具</h3>
<h4 id="协程">协程</h4>
<p><a href="https://www.lylinux.net/article/2019/6/9/57.html">https://www.lylinux.net/article/2019/6/9/57.html</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 代码分析工具</span>
</span></span><span style="display:flex;"><span>pylint
</span></span></code></pre></div><p><a href="https://github.com/apachecn/apachecn-pythonweb-zh/blob/master/docs/dj-example/SUMMARY.md">https://github.com/apachecn/apachecn-pythonweb-zh/blob/master/docs/dj-example/SUMMARY.md</a></p>
<p><a href="https://github.com/apachecn/apachecn-python-zh-pt2/blob/master/docs/soft-arch-py/02.md">https://github.com/apachecn/apachecn-python-zh-pt2/blob/master/docs/soft-arch-py/02.md</a></p>
<p><a href="https://github.com/apachecn/apachecn-pythonweb-zh/blob/master/docs/master-dj/SUMMARY.md">https://github.com/apachecn/apachecn-pythonweb-zh/blob/master/docs/master-dj/SUMMARY.md</a></p>
<p>Django部署：https://mp.weixin.qq.com/s/2ZbMpN-flI38B71TY1uHjA</p>
<hr>
<h2 id="进程池协程">进程池+协程</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> concurrent.futures
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> asyncio
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">my_coroutine</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 协程的具体逻辑</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">run_coroutine</span>():
</span></span><span style="display:flex;"><span>    loop <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>get_event_loop()
</span></span><span style="display:flex;"><span>    loop<span style="color:#f92672">.</span>run_until_complete(my_coroutine())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> concurrent<span style="color:#f92672">.</span>futures<span style="color:#f92672">.</span>ProcessPoolExecutor() <span style="color:#66d9ef">as</span> executor:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 在进程池中运行协程</span>
</span></span><span style="display:flex;"><span>        executor<span style="color:#f92672">.</span>submit(run_coroutine)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#进程池+async IO异步</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> concurrent.futures <span style="color:#f92672">import</span> ProcessPoolExecutor
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> asyncio
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> time
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">mygen</span>(u: int <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>):
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> i <span style="color:#f92672">&lt;</span> u:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> i
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">blocking</span>(delay):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    time<span style="color:#f92672">.</span>sleep(delay <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (<span style="color:#e6db74">&#39;EXECUTOR: Completed blocking task number &#39;</span> <span style="color:#f92672">+</span> str(delay <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">run_blocking</span>(executor, task_no, delay):
</span></span><span style="display:flex;"><span>    loop <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>get_event_loop()
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;MASTER: Sending to executor blocking task number &#39;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">+</span> str(task_no))
</span></span><span style="display:flex;"><span>    result <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> loop<span style="color:#f92672">.</span>run_in_executor(executor, blocking, delay)
</span></span><span style="display:flex;"><span>    print(result)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;MASTER: Well done executor - you seem to have completed &#39;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#39;blocking task number &#39;</span> <span style="color:#f92672">+</span> str(task_no))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">non_blocking</span>():
</span></span><span style="display:flex;"><span>    tasks <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> ProcessPoolExecutor(max_workers<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>) <span style="color:#66d9ef">as</span> executor:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># tasks=[case_a(),case_b(),case_c()]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># async for i in mygen():</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">4</span>):
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># spawn the task and let it run in the background</span>
</span></span><span style="display:flex;"><span>            tasks<span style="color:#f92672">.</span>append(asyncio<span style="color:#f92672">.</span>create_task(
</span></span><span style="display:flex;"><span>                run_blocking(executor, i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, i)))
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># if there was an exception, retrieve it now</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">await</span> asyncio<span style="color:#f92672">.</span>gather(<span style="color:#f92672">*</span>tasks)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    time1 <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>time()
</span></span><span style="display:flex;"><span>    loop <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>get_event_loop()
</span></span><span style="display:flex;"><span>    loop<span style="color:#f92672">.</span>run_until_complete(non_blocking())
</span></span><span style="display:flex;"><span>    print(time<span style="color:#f92672">.</span>time() <span style="color:#f92672">-</span> time1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><h3 id="协程的缺点">协程的缺点：</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>协程的缺点主要有以下几点：
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. 代码复杂度较高：协程的编写和调试相对于线程来说更加复杂，需要对异步编程和并发控制有更深入的理解。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2. 可读性较差：由于协程是轻量级的线程，它们在同一个线程中并发执行，因此可能会导致代码逻辑混乱，不易阅读和理解。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>3. 调试困难：由于协程的调度是由程序自身控制的，因此在调试协程相关的程序时，可能需要花费更多的时间和精力。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>4. 资源消耗较大：虽然协程相比于线程具有更低的资源消耗，但在某些情况下，协程仍然可能会占用较多的系统资源，如内存和CPU时间。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>5. 不支持所有操作：协程只支持异步IO操作，对于一些需要阻塞的操作（如文件读写、网络请求等），协程无法提供支持。 
</span></span></code></pre></div><h3 id="线程之间通讯">线程之间通讯</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>1. 使用全局变量进行线程间通信
</span></span><span style="display:flex;"><span>2. 使用队列（Queue）进行线程间通信
</span></span><span style="display:flex;"><span>3. 使用管道（Pipe）进行线程间通信
</span></span><span style="display:flex;"><span>4. 使用事件（Event）进行线程间通信
</span></span><span style="display:flex;"><span>5. 使用信号量（Semaphore）进行线程间通信
</span></span><span style="display:flex;"><span>6. 使用条件变量（Condition）进行线程间通信 
</span></span></code></pre></div><h2 id="装饰器">装饰器</h2>
<ul>
<li>在不修改原函数的情况下扩展原函数的功能，用于日志插入，权限管理</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wrapper</span>(func):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">inner</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        ret <span style="color:#f92672">=</span> func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> ret
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> inner
</span></span></code></pre></div><h3 id="实用函数">实用函数</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 计算运行时间</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">print_run_time</span>(func):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wrapper</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kw):
</span></span><span style="display:flex;"><span>        local_time <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>time()
</span></span><span style="display:flex;"><span>        func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kw)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;current Function [</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">] run time is </span><span style="color:#e6db74">%.2f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (func<span style="color:#f92672">.</span>__name__ ,time<span style="color:#f92672">.</span>time() <span style="color:#f92672">-</span> local_time))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> func(<span style="color:#f92672">*</span>args,<span style="color:#f92672">**</span>kw)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> wrapper
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> time
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 统计程序运行时间</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">time_me</span>(info<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;used&#34;</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">_time_me</span>(fn):
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@functools.wraps</span>(fn)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">_wrapper</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>            start <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>time()
</span></span><span style="display:flex;"><span>            fn(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74"> </span><span style="color:#e6db74">%s</span><span style="color:#e6db74"> </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">%</span> (fn<span style="color:#f92672">.</span>__name__, info, time<span style="color:#f92672">.</span>time() <span style="color:#f92672">-</span> start), <span style="color:#e6db74">&#34;second&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> _wrapper
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> _time_me
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@property</span> 装饰器<span style="color:#960050;background-color:#1e0010">，</span>可以在不改变原有调用方式的同时<span style="color:#960050;background-color:#1e0010">，</span>来将一个属性改为一个方法
</span></span><span style="display:flex;"><span><span style="color:#f92672">@</span>{methodname}<span style="color:#f92672">.</span>setter
</span></span><span style="display:flex;"><span><span style="color:#f92672">@</span>{methodname}<span style="color:#f92672">.</span>deleter
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 示例</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, first_name, last_name):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>first <span style="color:#f92672">=</span> first_name
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>last <span style="color:#f92672">=</span> last_name
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># self.fullname = self.first + &#39; &#39;+ self.last</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fullname</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>first <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>last
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@fullname.setter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fullname</span>(self, name):
</span></span><span style="display:flex;"><span>        first_name, last_name <span style="color:#f92672">=</span> name<span style="color:#f92672">.</span>split()
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>first <span style="color:#f92672">=</span> first_name
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>last <span style="color:#f92672">=</span> last_name
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@fullname.deleter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fullname</span>(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>first <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>last <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">email</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">.</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">@email.com&#39;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>first, self<span style="color:#f92672">.</span>last)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>person <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#39;zhang&#39;</span>, <span style="color:#e6db74">&#39;san&#39;</span>)
</span></span><span style="display:flex;"><span>print(person<span style="color:#f92672">.</span>fullname)
</span></span><span style="display:flex;"><span>print(person<span style="color:#f92672">.</span>last)
</span></span><span style="display:flex;"><span>print(person<span style="color:#f92672">.</span>first)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> person<span style="color:#f92672">.</span>fullname
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(person<span style="color:#f92672">.</span>last)
</span></span><span style="display:flex;"><span>print(person<span style="color:#f92672">.</span>first)
</span></span></code></pre></div><h2 id="排序算法">排序算法</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 归并</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">merge</span>(left_arr, right_arr):
</span></span><span style="display:flex;"><span>    arr <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>    left_i, right_i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> left_i <span style="color:#f92672">&lt;</span> len(left_arr) <span style="color:#f92672">and</span> right_i <span style="color:#f92672">&lt;</span> len(right_arr):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> left_arr[left_i] <span style="color:#f92672">&lt;</span> right_arr[right_i]:
</span></span><span style="display:flex;"><span>            arr<span style="color:#f92672">.</span>append(left_arr[left_i])
</span></span><span style="display:flex;"><span>            left_i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            arr<span style="color:#f92672">.</span>append(right_arr[right_i])
</span></span><span style="display:flex;"><span>            right_arr <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 剩余数据处理</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> left_i <span style="color:#f92672">&lt;</span> len(left_arr):
</span></span><span style="display:flex;"><span>        arr<span style="color:#f92672">.</span>append(left_arr[left_i])
</span></span><span style="display:flex;"><span>        left_i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> right_i <span style="color:#f92672">&lt;</span> len(right_arr):
</span></span><span style="display:flex;"><span>        arr<span style="color:#f92672">.</span>append(right_arr[right_i])
</span></span><span style="display:flex;"><span>        right_i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> arr
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">mergeSort</span>(arr):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> len(arr) <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> arr
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    mid <span style="color:#f92672">=</span> len(arr) <span style="color:#f92672">//</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    left_arr <span style="color:#f92672">=</span> mergeSort(arr[<span style="color:#ae81ff">0</span>: mid])
</span></span><span style="display:flex;"><span>    right_arr <span style="color:#f92672">=</span> mergeSort(arr[mid:])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> merge(left_arr, right_arr)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 快排</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">randomPartition</span>(arr, low, high):
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> (low <span style="color:#f92672">+</span> high) <span style="color:#f92672">//</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    arr[i], arr[low] <span style="color:#f92672">=</span> arr[low], arr[i]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> partition(arr, low, high)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">partition</span>(arr, low, high):
</span></span><span style="display:flex;"><span>    pivot <span style="color:#f92672">=</span> arr[low]
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> low <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(i, high <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> arr[j] <span style="color:#f92672">&lt;</span> pivot:
</span></span><span style="display:flex;"><span>            arr[i], arr[j] <span style="color:#f92672">=</span> arr[j], arr[i]
</span></span><span style="display:flex;"><span>            i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    arr[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>], arr[low] <span style="color:#f92672">=</span> arr[low], arr[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">quickSort</span>(arr, low, high):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> low <span style="color:#f92672">&lt;</span> high:
</span></span><span style="display:flex;"><span>        pi <span style="color:#f92672">=</span> randomPartition(arr, low, high)
</span></span><span style="display:flex;"><span>        quickSort(arr, low, pi <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        quickSort(arr, pi <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, high)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> arr
</span></span><span style="display:flex;"><span>quickSort([<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 快排</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">quick_sort</span>(alist, start, end):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> start <span style="color:#f92672">&gt;=</span> end:  <span style="color:#75715e"># 递归的退出条件</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>    mid <span style="color:#f92672">=</span> alist[start]  <span style="color:#75715e"># 设定起始的基准元素</span>
</span></span><span style="display:flex;"><span>    low, high <span style="color:#f92672">=</span> start, end
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> low <span style="color:#f92672">&lt;</span> high:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 如果low与high未重合，high(右边)指向的元素大于等于基准元素，则high向左移动</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> low <span style="color:#f92672">&lt;</span> high <span style="color:#f92672">and</span> alist[high] <span style="color:#f92672">&gt;=</span> mid:
</span></span><span style="display:flex;"><span>            high <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        alist[low] <span style="color:#f92672">=</span> alist[high]  <span style="color:#75715e"># 走到此位置时high指向一个比基准元素小的元素,将high指向的元素放到low的位置上,此时high指向的位置空着,接下来移动low找到符合条件的元素放在此处</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 如果low与high未重合，low指向的元素比基准元素小，则low向右移动</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> low <span style="color:#f92672">&lt;</span> high <span style="color:#f92672">and</span> alist[low] <span style="color:#f92672">&lt;</span> mid:
</span></span><span style="display:flex;"><span>            low <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        alist[high] <span style="color:#f92672">=</span> alist[low]  <span style="color:#75715e"># 此时low指向一个比基准元素大的元素,将low指向的元素放到high空着的位置上,此时low指向的位置空着,之后进行下一次循环,将high找到符合条件的元素填到此处</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 退出循环后，low与high重合，此时所指位置为基准元素的正确位置,左边的元素都比基准元素小,右边的元素都比基准元素大</span>
</span></span><span style="display:flex;"><span>    alist[low] <span style="color:#f92672">=</span> mid  <span style="color:#75715e"># 将基准元素放到该位置,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 对基准元素左边的子序列进行快速排序</span>
</span></span><span style="display:flex;"><span>    quick_sort(alist, start, low <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)  <span style="color:#75715e"># start :0  low -1 原基准元素靠左边一位</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 对基准元素右边的子序列进行快速排序</span>
</span></span><span style="display:flex;"><span>    quick_sort(alist, low <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, end)  <span style="color:#75715e"># low+1 : 原基准元素靠右一位  end: 最后</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    alist <span style="color:#f92672">=</span> [<span style="color:#ae81ff">54</span>, <span style="color:#ae81ff">26</span>, <span style="color:#ae81ff">93</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">77</span>, <span style="color:#ae81ff">31</span>, <span style="color:#ae81ff">44</span>, <span style="color:#ae81ff">55</span>, <span style="color:#ae81ff">20</span>]
</span></span><span style="display:flex;"><span>    quick_sort(alist, <span style="color:#ae81ff">0</span>, len(alist) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    print(alist)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 冒泡</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bobsort</span>(nums):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> nums: <span style="color:#66d9ef">return</span> []
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(nums)):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(len(nums)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> nums[i] <span style="color:#f92672">&lt;</span> nums[j]:
</span></span><span style="display:flex;"><span>                nums[i], nums[j] <span style="color:#f92672">=</span> nums[j], nums[i]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> nums
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 选择排序</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">selectsort</span>(nums):
</span></span><span style="display:flex;"><span>    length <span style="color:#f92672">=</span> len(nums)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> length <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>: <span style="color:#66d9ef">return</span> nums
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(length):
</span></span><span style="display:flex;"><span>        _min <span style="color:#f92672">=</span> i
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(i, length):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> nums[j] <span style="color:#f92672">&lt;</span> nums[_min]:
</span></span><span style="display:flex;"><span>                _min <span style="color:#f92672">=</span> j
</span></span><span style="display:flex;"><span>        nums[i], nums[_min] <span style="color:#f92672">=</span> nums[_min], nums[i]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> nums
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 插入排序</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">insertionSort</span>(arr):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 遍历数组中的每个元素</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(arr)):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 将当前元素作为关键值</span>
</span></span><span style="display:flex;"><span>        key <span style="color:#f92672">=</span> arr[i]
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 初始化比较位置为前一个元素的位置</span>
</span></span><span style="display:flex;"><span>        j <span style="color:#f92672">=</span> i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 当比较位置大于等于0且关键值小于前一个元素时，进行比较和交换操作</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> j <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> key <span style="color:#f92672">&lt;</span> arr[j]:
</span></span><span style="display:flex;"><span>            arr[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> arr[j]
</span></span><span style="display:flex;"><span>            j <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 将关键值插入到正确的位置上</span>
</span></span><span style="display:flex;"><span>        arr[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> key
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 返回排序后的数组</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> arr
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 堆排序</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> heapq
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">heap_sort</span>(arr):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> arr:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> []
</span></span><span style="display:flex;"><span>    h <span style="color:#f92672">=</span> []  <span style="color:#75715e">#建立空堆</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> arr:
</span></span><span style="display:flex;"><span>        heapq<span style="color:#f92672">.</span>heappush(h,i) <span style="color:#75715e">#heappush自动建立小根堆</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> [heapq<span style="color:#f92672">.</span>heappop(h) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(h))]  <span style="color:#75715e">#heappop每次删除并返回列表中最小的值</span>
</span></span></code></pre></div><h2 id="资料">资料</h2>
<p><a href="https://miz.apachecn.org/#/docs/py/README">基础</a></p>
<p><a href="https://github.com/ls1248659692/python_guide">后端资料</a></p>
<p><a href="https://algo.itcharge.cn">刷题</a></p>
<p><a href="https://www.cnblogs.com/cymwill/p/8723462.html">python抽象方法</a></p>
<h2 id="书籍">书籍</h2>
<h4 id="变量解析原则">变量解析原则</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>变量的解析原则，也可以理解为变量的查找顺序：
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>L(Local): 本地作用域、局部作用域的local命名空间。函数调用是创建，调用结束消亡
</span></span><span style="display:flex;"><span>E(Enclosing): Python 2.2时引入嵌套函数，实现了闭包，这个就是嵌套函数的外部函数的命名空间
</span></span><span style="display:flex;"><span>G(Global): 全局作用域，即一个模块的命名空间。模块被import时创建，解释器退出时消亡
</span></span><span style="display:flex;"><span>B(Build-in): 内置模块的命名空间，生命周期从Python解释器启动时创建到解释器退出时消亡。例如print函数、open函数等。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>变量查找的规则为 L &gt; E &gt; G &gt; B，即：先本地后嵌套再全局最后是内置函数中
</span></span></code></pre></div><h4 id="工程代码路径">工程代码路径</h4>
<ul>
<li>resolve() 将路径或路径片段的序列解析为绝对路径</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span>path<span style="color:#f92672">.</span>resolve(<span style="color:#e6db74">&#39;/foo/bar&#39;</span>, <span style="color:#e6db74">&#39;./baz&#39;</span>)   <span style="color:#f92672">//</span> returns <span style="color:#e6db74">&#39;/foo/bar/baz&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取当前文件的绝对路径（获取当前文件名）</span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>abspath(__file__)
</span></span><span style="display:flex;"><span>print(res)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看包支持的版本</span>
</span></span><span style="display:flex;"><span>pip debug <span style="color:#f92672">--</span>verbose
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取当前文件的父级目录（获取当前文件名）</span>
</span></span><span style="display:flex;"><span>res<span style="color:#f92672">=</span>os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(__file__)
</span></span><span style="display:flex;"><span>print(res)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 导入识别路径的包</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取项目的根目录绝对路径=获取当前文件的目录（获取当前文件的目录（获取当前文件的绝对路径（获取当前文件名）））</span>
</span></span><span style="display:flex;"><span>base_dir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>abspath(__file__)))
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取用例数据文件夹所在目录的绝对路径</span>
</span></span><span style="display:flex;"><span>datas_dir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(base_dir, <span style="color:#e6db74">&#34;datas&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 配置文件的根目录</span>
</span></span><span style="display:flex;"><span>conf_dir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(base_dir, <span style="color:#e6db74">&#34;conf&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 日志文件的目录</span>
</span></span><span style="display:flex;"><span>logs_dir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(base_dir, <span style="color:#e6db74">&#34;logs&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 报告文件的目录</span>
</span></span><span style="display:flex;"><span>reports_dir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(base_dir, <span style="color:#e6db74">&#34;reports&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 用例模块的目录</span>
</span></span><span style="display:flex;"><span>testcases_dir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(base_dir, <span style="color:#e6db74">&#34;testcases&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Django</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#方法二</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#在任意目录下</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> python
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> os<span style="color:#f92672">.</span>environ[<span style="color:#e6db74">&#39;DJANGO_SETTINGS_MODULE&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;mysite.settings&#39;</span>  <span style="color:#75715e">#此处要注意自己的项目目录</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#75715e"># os.environ.setdefault(&#34;DJANGO_SETTINGS_MODULE&#34;, &#34;mysite.settings&#34;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">import</span> django
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> django<span style="color:#f92672">.</span>setup()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">import</span> blog.models      <span style="color:#75715e">#这样就不会报错</span>
</span></span></code></pre></div><h4 id="异常">异常</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span><span style="color:#960050;background-color:#1e0010">：</span>
</span></span><span style="display:flex;"><span>    doSomething()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>    traceback<span style="color:#f92672">.</span>print_exc()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># logging.error(str(traceback.format_exc()))</span>
</span></span></code></pre></div><h4 id="规范">规范</h4>
<p>DRY原则，减少代码重复</p>
<h4 id="编码">编码</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pip install chardet
</span></span><span style="display:flex;"><span>In [<span style="color:#ae81ff">6</span>]: chardet<span style="color:#f92672">.</span>detect(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\xc8\xcb\xc9\xfa\xbf\xe0\xb6\xcc\xa3\xac\xce\xd2\xd3\xc3</span><span style="color:#e6db74">Python&#39;</span>)
</span></span><span style="display:flex;"><span>Out[<span style="color:#ae81ff">6</span>]: 
</span></span><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;encoding&#39;</span>: <span style="color:#e6db74">&#39;GB2312&#39;</span>, <span style="color:#e6db74">&#39;confidence&#39;</span>: <span style="color:#ae81ff">0.99</span>, <span style="color:#e6db74">&#39;language&#39;</span>: <span style="color:#e6db74">&#39;Chinese&#39;</span>}
</span></span><span style="display:flex;"><span>In [<span style="color:#ae81ff">7</span>]: <span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\xc8\xcb\xc9\xfa\xbf\xe0\xb6\xcc\xa3\xac\xce\xd2\xd3\xc3</span><span style="color:#e6db74">Python&#39;</span><span style="color:#f92672">.</span>decode(<span style="color:#e6db74">&#39;gb2312&#39;</span>)
</span></span></code></pre></div><h4 id="基础">基础</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>如果是 I<span style="color:#f92672">/</span>O 密集型<span style="color:#960050;background-color:#1e0010">，</span>且 I<span style="color:#f92672">/</span>O 请求比较耗时的话<span style="color:#960050;background-color:#1e0010">，</span>使用协程<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>如果是 I<span style="color:#f92672">/</span>O 密集型<span style="color:#960050;background-color:#1e0010">，</span>且 I<span style="color:#f92672">/</span>O 请求比较快的话<span style="color:#960050;background-color:#1e0010">，</span>使用多线程<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>如果是 计算 密集型<span style="color:#960050;background-color:#1e0010">，</span>考虑可以使用多核 CPU<span style="color:#960050;background-color:#1e0010">，</span>使用多进程<span style="color:#960050;background-color:#1e0010">。</span>
</span></span></code></pre></div><ul>
<li>深浅拷贝</li>
</ul>
<pre tabindex="0"><code>Python中拷贝分为深拷贝、浅拷贝。浅拷贝只拷贝父级对象， 不会拷贝对象内部的子对象，使用copy模块中的copy。深拷贝则会完全拷贝父对象以及子对象， 使用copy模块中的deepcopy。
</code></pre><ul>
<li>__new__和__init__的区别</li>
</ul>
<pre tabindex="0"><code>__new__负责构建一个类对象并将其返回，__init__则负责初始化一些变量，不返回任何对象。在实例化一个类时， __new__方法将会先被运行， 其次才运行__init__方法。
</code></pre><h4 id="闭包">闭包</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>闭包实际上就是一个函数<span style="color:#960050;background-color:#1e0010">，</span>但是这个函数要具有 <span style="color:#ae81ff">1.</span>定义在另外一个函数里面(嵌套函数)<span style="color:#960050;background-color:#1e0010">；</span><span style="color:#ae81ff">2.</span>引用其所在环境的自由变量<span style="color:#960050;background-color:#1e0010">。</span>上述例子通过闭包在 fun() 执行完毕时<span style="color:#960050;background-color:#1e0010">，</span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>依然可以在 f() 中<span style="color:#960050;background-color:#1e0010">，</span>即 fun1() 函数中存在<span style="color:#960050;background-color:#1e0010">，</span>并没有被收回<span style="color:#960050;background-color:#1e0010">，</span>所以 print(f()) 才得到了结果<span style="color:#960050;background-color:#1e0010">。</span>当我们在某些时候需要对事务做更高层次的抽象<span style="color:#960050;background-color:#1e0010">，</span>用闭包会相当舒服<span style="color:#960050;background-color:#1e0010">。</span>比如我们要写一个二元一次函数<span style="color:#960050;background-color:#1e0010">，</span>如果不使用闭包的话相信你可以轻而易举的写出来<span style="color:#960050;background-color:#1e0010">，</span>下面让我们来用闭包的方式完成这个一元二次方程式<span style="color:#960050;background-color:#1e0010">：</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fun</span>(a,b,c):
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>     <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">para</span>(x):
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>         <span style="color:#66d9ef">return</span> a<span style="color:#f92672">*</span>x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> b<span style="color:#f92672">*</span>x <span style="color:#f92672">+</span> c
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>     <span style="color:#66d9ef">return</span> para
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> f <span style="color:#f92672">=</span> fun(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> print(f(<span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">11</span>
</span></span></code></pre></div><h4 id="python离线安装环境包">python离线安装环境包</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 强制重新安装包</span>
</span></span><span style="display:flex;"><span>pip install <span style="color:#f92672">--</span>force<span style="color:#f92672">-</span>reinstall <span style="color:#f92672">&lt;</span>PACKAGE_NAME<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>内网安装外部依赖包办法<span style="color:#960050;background-color:#1e0010">：</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>离线下载安装包
</span></span><span style="display:flex;"><span>下载单个离线包 <span style="color:#f92672">-</span> pip download <span style="color:#f92672">-</span>d your_offline_packages
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>package_name<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>批量下载离线包 <span style="color:#f92672">-</span> pip download <span style="color:#f92672">-</span>d your_offline_packages <span style="color:#f92672">-</span>r requirements<span style="color:#f92672">.</span>txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>离线安装
</span></span><span style="display:flex;"><span>安装单个离线包 <span style="color:#f92672">-</span> pip install <span style="color:#f92672">--</span>no<span style="color:#f92672">-</span>index <span style="color:#f92672">--</span>find<span style="color:#f92672">-</span>links<span style="color:#f92672">=/</span>your_offline_packages<span style="color:#f92672">/</span> package_name
</span></span><span style="display:flex;"><span>批量安装离线包 <span style="color:#f92672">-</span> pip install <span style="color:#f92672">--</span>no<span style="color:#f92672">-</span>index <span style="color:#f92672">--</span>find<span style="color:#f92672">-</span>links<span style="color:#f92672">=/</span>your_offline_packages<span style="color:#f92672">/</span> <span style="color:#f92672">-</span>r requirements<span style="color:#f92672">.</span>txt
</span></span></code></pre></div><h4 id="字典推导式">字典推导式</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {key:value <span style="color:#66d9ef">for</span> (key,value) <span style="color:#f92672">in</span> iterable}
</span></span></code></pre></div><h4 id="特殊的关键字">特殊的关键字</h4>
<p>nonlocal只能在封装函数中使用，在外部函数先进行声明，在内部函数进行nonlocal声明</p>
<h4 id="列表的扁平化">列表的扁平化</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>], [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>], [<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>]]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">list_</span>(list1):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> list1:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> isinstance(i, list):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">yield from</span> list_(i)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">yield</span> i
</span></span><span style="display:flex;"><span>list(list_(a))
</span></span></code></pre></div><p>一个星（*）：表示接收的参数作为元组来处理</p>
<p>两个星（**）：表示接收的参数作为字典来处理</p>
<hr>
<h4 id="设计原则">设计原则</h4>
<p>SOLID：
S：单一责任原则
O：开/关原理
L：利斯科夫替代原理
I：接口隔离原则
D：依赖倒置原则</p>
<h4 id="架构设计">架构设计</h4>
<p>库的最小布局：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├──</span> Makefile
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├──</span> README<span style="color:#f92672">.</span>rst
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├──</span> setup<span style="color:#f92672">.</span>py
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├──</span> src
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span>   <span style="color:#960050;background-color:#1e0010">└──</span> apptool
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span>   <span style="color:#960050;background-color:#1e0010">├──</span> common<span style="color:#f92672">.</span>py
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span>   <span style="color:#960050;background-color:#1e0010">├──</span> __init__<span style="color:#f92672">.</span>py
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span>   <span style="color:#960050;background-color:#1e0010">└──</span> parse<span style="color:#f92672">.</span>py
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">└──</span> tests
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">├──</span> integration
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">└──</span> unit 
</span></span></code></pre></div><ul>
<li>setup.py</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> setuptools <span style="color:#f92672">import</span> find_packages, setup
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;README.rst&#34;</span>, <span style="color:#e6db74">&#34;r&#34;</span>) <span style="color:#66d9ef">as</span> longdesc:
</span></span><span style="display:flex;"><span>    long_description <span style="color:#f92672">=</span> longdesc<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span>setup(
</span></span><span style="display:flex;"><span>    name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;apptool&#34;</span>,
</span></span><span style="display:flex;"><span>    description<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Description of the intention of the package&#34;</span>,
</span></span><span style="display:flex;"><span>    long_description<span style="color:#f92672">=</span>long_description,
</span></span><span style="display:flex;"><span>    author<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Dev team&#34;</span>,
</span></span><span style="display:flex;"><span>    version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.1.0&#34;</span>,
</span></span><span style="display:flex;"><span>    packages<span style="color:#f92672">=</span>find_packages(where<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;src/&#34;</span>),
</span></span><span style="display:flex;"><span>    package_dir<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;&#34;</span>: <span style="color:#e6db74">&#34;src&#34;</span>},
</span></span><span style="display:flex;"><span>) 
</span></span></code></pre></div><hr>
<h2 id="known">known</h2>
<h4 id="同步-异步-阻塞-非阻塞-io多路复用-协程">同步 异步 阻塞 非阻塞 IO多路复用 协程</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>同步<span style="color:#960050;background-color:#1e0010">：</span>是指两个步骤的执行存在顺序
</span></span><span style="display:flex;"><span>异步<span style="color:#960050;background-color:#1e0010">：</span>指两个步骤的执行时间不固定
</span></span><span style="display:flex;"><span>    比如上面的IO多路复用伪代码中<span style="color:#960050;background-color:#1e0010">，</span>两次执行first之间是同步的<span style="color:#960050;background-color:#1e0010">，</span>
</span></span><span style="display:flex;"><span>    但是发起IO操作之后就由IO多路复用管理IO<span style="color:#960050;background-color:#1e0010">，</span>
</span></span><span style="display:flex;"><span>    等完成IO时才执行third<span style="color:#960050;background-color:#1e0010">，</span>我们也不知道谁先完成<span style="color:#960050;background-color:#1e0010">，</span>也就是说两次third之间是异步的
</span></span><span style="display:flex;"><span>    原先first执行之后<span style="color:#960050;background-color:#1e0010">，</span>second马上执行<span style="color:#960050;background-color:#1e0010">。</span>但是使用IO多路复用后<span style="color:#960050;background-color:#1e0010">，</span>second并不是马上执行<span style="color:#960050;background-color:#1e0010">，</span>他们两者之间也是异步
</span></span><span style="display:flex;"><span>阻塞<span style="color:#960050;background-color:#1e0010">：</span>没完成就不返回的函数叫阻塞函数
</span></span><span style="display:flex;"><span>非阻塞<span style="color:#960050;background-color:#1e0010">：</span>不管是否完成立刻返回的函数
</span></span><span style="display:flex;"><span>    即便是我们提到的IO多路复用<span style="color:#960050;background-color:#1e0010">，</span>也是阻塞函数<span style="color:#960050;background-color:#1e0010">，</span>非阻塞函数一般用于epoll的边缘触发<span style="color:#960050;background-color:#1e0010">，</span>属于特定的技术<span style="color:#960050;background-color:#1e0010">，</span>一般不用管
</span></span><span style="display:flex;"><span>IO多路复用<span style="color:#960050;background-color:#1e0010">：</span>把多次单独阻塞合并起来<span style="color:#960050;background-color:#1e0010">，</span>放到一个阻塞等待时间里
</span></span><span style="display:flex;"><span>协程<span style="color:#960050;background-color:#1e0010">：</span>让我们以同步的方式写代码<span style="color:#960050;background-color:#1e0010">，</span>底层使用IO多路复用类似的机制
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 多进程+协程</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> asyncio
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> concurrent.futures <span style="color:#f92672">import</span> ProcessPoolExecutor
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">coroutine_function</span>():
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;协程开始执行&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">await</span> asyncio<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;协程执行完毕&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">process_function</span>():
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;子进程开始执行&#34;</span>)
</span></span><span style="display:flex;"><span>    loop <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>new_event_loop()
</span></span><span style="display:flex;"><span>    asyncio<span style="color:#f92672">.</span>set_event_loop(loop)
</span></span><span style="display:flex;"><span>    loop<span style="color:#f92672">.</span>run_until_complete(coroutine_function())
</span></span><span style="display:flex;"><span>    loop<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;子进程执行完毕&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> ProcessPoolExecutor() <span style="color:#66d9ef">as</span> executor:
</span></span><span style="display:flex;"><span>        future <span style="color:#f92672">=</span> executor<span style="color:#f92672">.</span>submit(process_function)
</span></span><span style="display:flex;"><span>        future<span style="color:#f92672">.</span>result()
</span></span></code></pre></div><h4 id="异步和线程的区别">异步和线程的区别</h4>
<p>异步和线程都是实现并发编程的方式，但它们之间有一些重要的区别： 线程是操作系统调度的基本单位，而异步是基于事件循环机制完成的。 多线程是并行处理任务，每个线程独立运行，需要使用锁来同步访问共享数据或资源。 异步则是非阻塞的，当一个调用请求发送给被调用者时，调用者不用等待其结果的返回，而是可以继续干其它的事情。</p>
<h3 id="垃圾回收及内存管理">垃圾回收及内存管理</h3>
<h4 id="垃圾回收机制">垃圾回收机制</h4>
<pre tabindex="0"><code>内部维护了针对每一个对象的引用计数，创建、引用，计数加一，销毁、作用域失效计数减一。引用计数为零对象被回收。
- 对象循环引用的情况：
内部实现一个循环检测器，对循环引用状况使用标记清除
* 对象存活时间越长就越晚被回收
</code></pre><h5 id="回收的条件">回收的条件</h5>
<pre tabindex="0"><code>垃圾回收后的对象会放在gc.garbage列表里面

gc.collect()会返回不可达的对象数目，4等于两个对象以及它们对应的dict

有三种情况会触发垃圾回收：

1.调用gc.collect(),

2.当gc模块的计数器达到阀值的时候。

3.程序退出的时候

四.gc模块常用功能解析

gc模块提供一个接口给开发者设置垃圾回收的选项。上面说到，采用引用计数的方法管理内存的一个缺陷是循环引用，而gc模块的一个主要功能就是解决循环引用的问题。
</code></pre><ul>
<li>GIL锁由于垃圾回收机制的存在<br>
任意时刻 GIL 都只允许一个线程运行，即使你的代码跑在多核 CPU 的电脑上也是如此</li>
</ul>
<hr>
<h2 id="设计模式-1">设计模式</h2>
<h3 id="6原则">6原则</h3>
<p>1、开闭原则<br>
2、里氏代换原则<br>
3、依赖倒转原则<br>
4、接口隔离原则<br>
5、迪米特法则（最少知道原则）<br>
6、合成复用原则</p>
<ul>
<li>单例模式</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># -*- coding:utf-8 -*-</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Singleton
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 实现__new__方法</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 并且将一个类的实例绑定到类变量_instance上,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 如果cls._instance为None说明该类还没有实例化过,实例化该类,并返回</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 如果cls._instance不为None,直接返回cls._instance</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Singleton</span>(object):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __new__(cls, <span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> hasattr(cls, <span style="color:#e6db74">&#39;_instance&#39;</span>):
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># cls = a = MyClass(&#39;Burgess&#39;)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># 判断是否有a该实例存在,前面是否已经有人实例过，如果内存没有该实例...往下执行</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># 需要注明该父类的内存空间内最多允许相同名字子类的实例对象存在1个（不可多个）</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            orig <span style="color:#f92672">=</span> super(Singleton, cls)  <span style="color:#75715e"># farther class</span>
</span></span><span style="display:flex;"><span>            cls<span style="color:#f92672">.</span>_instance <span style="color:#f92672">=</span> orig<span style="color:#f92672">.</span>__new__(cls)
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># orig =让cls继承指定的父类 Singleton</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># cls._instance = 创建了MyClass(&#39;Burgess&#39;) 该实例</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># 这两句相当于外面的 a= MyClass(&#39;Burgess&#39;)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> cls<span style="color:#f92672">.</span>_instance  <span style="color:#75715e"># 具体的实例</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span>(Singleton):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, name):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> name
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Nana</span>(Singleton):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, name):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> name
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> MyClass(<span style="color:#e6db74">&#34;Burgess&#34;</span>)
</span></span><span style="display:flex;"><span>    print(a<span style="color:#f92672">.</span>name)
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> MyClass(<span style="color:#e6db74">&#34;Crystal&#34;</span>)
</span></span><span style="display:flex;"><span>    print(a<span style="color:#f92672">.</span>name)
</span></span><span style="display:flex;"><span>    print(b<span style="color:#f92672">.</span>name)
</span></span><span style="display:flex;"><span>    b<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;xx&#39;</span>
</span></span><span style="display:flex;"><span>    print(a<span style="color:#f92672">.</span>name)
</span></span><span style="display:flex;"><span>    print(b<span style="color:#f92672">.</span>name)
</span></span></code></pre></div><p>简</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 一个类永远只允许一个实例化对象，不管多少个进行实例化，都返回第一个实例化的对象</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Singleton</span>(object):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __new__(cls, <span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> hasattr(cls,<span style="color:#e6db74">&#39;_instance&#39;</span>):
</span></span><span style="display:flex;"><span>            orig<span style="color:#f92672">=</span>super(Singleton,cls)
</span></span><span style="display:flex;"><span>            cls<span style="color:#f92672">.</span>_instance<span style="color:#f92672">=</span>orig<span style="color:#f92672">.</span>__new__(cls)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> cls<span style="color:#f92672">.</span>_instance
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span>(Singleton):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self,name):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>name<span style="color:#f92672">=</span>name
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    a<span style="color:#f92672">=</span>MyClass(<span style="color:#e6db74">&#34;sfg&#34;</span>)
</span></span><span style="display:flex;"><span>    print(a<span style="color:#f92672">.</span>name)
</span></span><span style="display:flex;"><span>    b<span style="color:#f92672">.</span>name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sfdsgsg&#34;</span>
</span></span><span style="display:flex;"><span>    print(a<span style="color:#f92672">.</span>name)
</span></span><span style="display:flex;"><span>    print(b<span style="color:#f92672">.</span>name)
</span></span></code></pre></div><h2 id="class">Class</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">类别变量
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">__init__
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">内置 Python 特殊方法(__call__、__repr__等)。)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">类方法
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">静态方法
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">性能
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">实例方法
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">私有方法
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee</span>(Person):
</span></span><span style="display:flex;"><span>    POSITIONS <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#34;Superwiser&#34;</span>, <span style="color:#e6db74">&#34;Manager&#34;</span>, <span style="color:#e6db74">&#34;CEO&#34;</span>, <span style="color:#e6db74">&#34;Founder&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, name, id, department):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> name
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>id <span style="color:#f92672">=</span> id
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>department <span style="color:#f92672">=</span> department
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>age <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_age_last_calculated <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_recalculated_age()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __str__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> (<span style="color:#e6db74">&#34;Name: &#34;</span> <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>name <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Department: &#34;</span>
</span></span><span style="display:flex;"><span>               <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>department)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@classmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">no_position_allowed</span>(cls, position):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [t <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> cls<span style="color:#f92672">.</span>POSITIONS <span style="color:#66d9ef">if</span> t <span style="color:#f92672">!=</span> position]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">c_positions</span>(position):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [t <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> cls<span style="color:#f92672">.</span>TITLES <span style="color:#66d9ef">if</span> t <span style="color:#f92672">in</span> position]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">id_with_name</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>id, self<span style="color:#f92672">.</span>name
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">age</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (datetime<span style="color:#f92672">.</span>date<span style="color:#f92672">.</span>today() <span style="color:#f92672">&gt;</span> self<span style="color:#f92672">.</span>_age_last_recalculated):
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>__recalculated_age()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>age
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">_recalculated_age</span>(self):
</span></span><span style="display:flex;"><span>        today <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>date<span style="color:#f92672">.</span>today()
</span></span><span style="display:flex;"><span>        age <span style="color:#f92672">=</span> today<span style="color:#f92672">.</span>year <span style="color:#f92672">-</span> self<span style="color:#f92672">.</span>birthday<span style="color:#f92672">.</span>year
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> today <span style="color:#f92672">&lt;</span> datetime<span style="color:#f92672">.</span>date(
</span></span><span style="display:flex;"><span>           today<span style="color:#f92672">.</span>year, self<span style="color:#f92672">.</span>birthday<span style="color:#f92672">.</span>month,
</span></span><span style="display:flex;"><span>           self<span style="color:#f92672">.</span>birthday<span style="color:#f92672">.</span>year):
</span></span><span style="display:flex;"><span>            age <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>age <span style="color:#f92672">=</span> age
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_age_last_recalculated <span style="color:#f92672">=</span> today
</span></span></code></pre></div><h4 id="python异常">Python异常</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">BaseException</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">+--</span> <span style="color:#a6e22e">SystemExit</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">+--</span> <span style="color:#a6e22e">KeyboardInterrupt</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">+--</span> <span style="color:#a6e22e">GeneratorExit</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">+--</span> <span style="color:#a6e22e">Exception</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">+--</span> <span style="color:#a6e22e">StopIteration</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">+--</span> StandardError
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">BufferError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">ArithmeticError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">FloatingPointError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">OverflowError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">ZeroDivisionError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">AssertionError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">AttributeError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">EnvironmentError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">IOError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">OSError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>         <span style="color:#f92672">+--</span> <span style="color:#a6e22e">WindowsError</span> (Windows)
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>         <span style="color:#f92672">+--</span> <span style="color:#a6e22e">VMSError</span> (VMS)
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">EOFError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">ImportError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">LookupError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">IndexError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">KeyError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">MemoryError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">NameError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">UnboundLocalError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">ReferenceError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">RuntimeError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">NotImplementedError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">SyntaxError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">IndentationError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">|</span>         <span style="color:#f92672">+--</span> <span style="color:#a6e22e">TabError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">SystemError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">TypeError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>    <span style="color:#f92672">+--</span> <span style="color:#a6e22e">ValueError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>         <span style="color:#f92672">+--</span> <span style="color:#a6e22e">UnicodeError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>              <span style="color:#f92672">+--</span> <span style="color:#a6e22e">UnicodeDecodeError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>              <span style="color:#f92672">+--</span> <span style="color:#a6e22e">UnicodeEncodeError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">|</span>              <span style="color:#f92672">+--</span> <span style="color:#a6e22e">UnicodeTranslateError</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">+--</span> <span style="color:#a6e22e">Warning</span>
</span></span><span style="display:flex;"><span>           <span style="color:#f92672">+--</span> <span style="color:#a6e22e">DeprecationWarning</span>
</span></span><span style="display:flex;"><span>           <span style="color:#f92672">+--</span> <span style="color:#a6e22e">PendingDeprecationWarning</span>
</span></span><span style="display:flex;"><span>           <span style="color:#f92672">+--</span> <span style="color:#a6e22e">RuntimeWarning</span>
</span></span><span style="display:flex;"><span>           <span style="color:#f92672">+--</span> <span style="color:#a6e22e">SyntaxWarning</span>
</span></span><span style="display:flex;"><span>           <span style="color:#f92672">+--</span> <span style="color:#a6e22e">UserWarning</span>
</span></span><span style="display:flex;"><span>           <span style="color:#f92672">+--</span> <span style="color:#a6e22e">FutureWarning</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#f92672">+--</span> <span style="color:#a6e22e">ImportWarning</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#f92672">+--</span> <span style="color:#a6e22e">UnicodeWarning</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#f92672">+--</span> <span style="color:#a6e22e">BytesWarning</span>
</span></span></code></pre></div><h4 id="makefile部署python">makefile部署python</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># Need to specify bash in order for conda activate to work.</span>
</span></span><span style="display:flex;"><span>SHELL<span style="color:#f92672">=</span>/bin/bash
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Note that the extra activate is needed to ensure that the activate floats env to the front of PATH</span>
</span></span><span style="display:flex;"><span>CONDA_ACTIVATE<span style="color:#f92672">=</span>source $$<span style="color:#f92672">(</span>conda info --base<span style="color:#f92672">)</span>/etc/profile.d/conda.sh ; conda activate ; conda activate
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>py3build:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">(</span><span style="color:#66d9ef">$(</span>CONDA_ACTIVATE<span style="color:#66d9ef">)</span> py3.6 ; python setup.py build <span style="color:#f92672">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># system python interpreter. used only to create virtual environment</span>
</span></span><span style="display:flex;"><span>PY <span style="color:#f92672">=</span> python3
</span></span><span style="display:flex;"><span>VENV <span style="color:#f92672">=</span> venv
</span></span><span style="display:flex;"><span>BIN<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>VENV<span style="color:#66d9ef">)</span>/bin
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># make it work on windows too</span>
</span></span><span style="display:flex;"><span>ifeq <span style="color:#f92672">(</span><span style="color:#66d9ef">$(</span>OS<span style="color:#66d9ef">)</span>, Windows_NT<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    BIN<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>VENV<span style="color:#66d9ef">)</span>/Scripts
</span></span><span style="display:flex;"><span>    PY<span style="color:#f92672">=</span>python
</span></span><span style="display:flex;"><span>endif
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>all: lint test
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">$(</span>VENV<span style="color:#66d9ef">)</span>: requirements.txt requirements-dev.txt setup.py
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">$(</span>PY<span style="color:#66d9ef">)</span> -m venv <span style="color:#66d9ef">$(</span>VENV<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">$(</span>BIN<span style="color:#66d9ef">)</span>/pip install --upgrade -r requirements.txt
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">$(</span>BIN<span style="color:#66d9ef">)</span>/pip install --upgrade -r requirements-dev.txt
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">$(</span>BIN<span style="color:#66d9ef">)</span>/pip install -e .
</span></span><span style="display:flex;"><span>touch <span style="color:#66d9ef">$(</span>VENV<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>.PHONY: test
</span></span><span style="display:flex;"><span>test: <span style="color:#66d9ef">$(</span>VENV<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">$(</span>BIN<span style="color:#66d9ef">)</span>/pytest
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>.PHONY: lint
</span></span><span style="display:flex;"><span>lint: <span style="color:#66d9ef">$(</span>VENV<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">$(</span>BIN<span style="color:#66d9ef">)</span>/flake8
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>.PHONY: release
</span></span><span style="display:flex;"><span>release: <span style="color:#66d9ef">$(</span>VENV<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">$(</span>BIN<span style="color:#66d9ef">)</span>/python setup.py sdist bdist_wheel upload
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>clean:
</span></span><span style="display:flex;"><span>    rm -rf <span style="color:#66d9ef">$(</span>VENV<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>    find . -type f -name *.pyc -delete
</span></span><span style="display:flex;"><span>    find . -type d -name __pycache__ -delete
</span></span></code></pre></div><h2 id="interview-1">interview</h2>
<h4 id="雪崩和缓存击穿都是与缓存系统相关的问题">雪崩和缓存击穿都是与缓存系统相关的问题</h4>
<p>它们可能在高并发环境下发生。</p>
<p>雪崩问题：</p>
<p>雪崩问题是指缓存中的大量数据在同一时间点同时失效，导致请求直接打到后端系统，压力瞬间增大，造成系统崩溃。
雪崩问题通常由于缓存中的数据设置了相同的过期时间，并且在同一时间点同时失效导致。
解决雪崩问题的方案包括：设置不同的缓存过期时间，保证缓存数据分散失效；应用限流和熔断机制，控制请求的并发量和频率；监控缓存系统和后端系统，及时发现并处理故障。
缓存击穿问题：</p>
<p>缓存击穿问题是指在缓存中不存在的数据被并发请求同时请求，导致请求穿透缓存，直接打到后端系统，增加了后端系统的负载。
缓存击穿通常发生在具有高访问频率的热点数据上，例如热门商品、热门文章等。
解决缓存击穿问题的方案包括：在查询缓存前进行判断，如果数据不存在，则不查询后端系统，也不写入缓存，避免穿透缓存；使用分布式锁或互斥锁，确保只有一个请求能够查询后端系统并写入缓存。
针对雪崩和缓存击穿问题，还可以采取其他措施如缓存预热、异步更新缓存等，具体的解决方案需要根据系统的实际情况和需求来定。同时，对缓存系统进行合理的容量规划和性能优化也是预防这些问题的重要手段。</p>
<h4 id="侧重的知识">侧重的知识</h4>
<ol>
<li>
<p>数据库CRUD操作/查询优化以及数据库知识量</p>
</li>
<li>
<p>框架的对比和了解/项目具体模块的业务逻辑描述</p>
</li>
<li>
<p>常见排序算法</p>
</li>
<li>
<p>Linux系统的常用命令和Linux系统了解程度考核</p>
</li>
<li>
<p>项目部署用到的服务器的配置和了解程度</p>
</li>
</ol>
<h4 id="加分项">加分项</h4>
<p>数据库基本功必须掌握但同时更重要的是理解为什么和是如何实现的，拓展自己知识面
Linux系统的底层原理和了解程度
目前Golang在后端中也逐渐流行，有时间还是需要去掌握</p>
<h4 id="python相关">Python相关</h4>
<p>实现一个单例模式
实现一个装饰器
用Python实现快排
如果系统中需要很多个Python版本，如何进行Python版本的管理
如何实现一个全局变量？(除了global,还可以通过单例模式)</p>
<h4 id="数据库相关">数据库相关</h4>
<p>数据库的数据是实时更新的吗？每点击一次，数据库数据修改一次？
Redis hash的个数
如何修改Redis数据库的库的个数？
Redis数据库如何实现持久化
Redis数据库支持的数据类型
Redis使用AOF方式持久化，aof文件不断增大，如何处理？
Redis数据库如何设置密码
hash表是如何生成的
MySQL数据库如何使用sql语句插入一条数据
MySQL数据库的慢查询有了解过吗
MySQL数据库如何进行查询优化
如何很多请求同时对Redis的同一个键进行访问，如何保证数据安全
说说Redis的淘汰机制
我的MySQL数据库每天晚上12点进行全备份。第二天有员工在9点钟误删除了一个数据库，但在10点钟才被发现。问如何进行恢复被误删除的数据库并同时保留9点到10点钟新增的数据同时不影响业务的正常运行?
当数据越来越多，如何避免hash槽中key出现相同的情况?
MongoDB在哪些场合使用过？</p>
<h4 id="项目部署相关">项目部署相关</h4>
<p>大家都说Nginx快？快的原因是什么？
对RPC了解吗?
如何在服务器上设置业务进程数？
说说正向代理和反向代理</p>
<h4 id="linux相关">Linux相关</h4>
<p>如何查看剩余内存
如何查看端口是否被占用
如何查看一个程序的PID以及它的所有子进程
如何为一个目录下的所有文件添加权限
如果你对一个目录具有写权限，那么你是否具有对这个目录下的所有文件具有删除权限？
对Linux多路复用的理解
修改IP地址的方法</p>
<h4 id="前端相关">前端相关</h4>
<p>对前端HTML CSS 和 JS了解多少？熟悉吗？
对React和bootstrap了解吗?
如何进行http优化？(响应头设置Content-Encoding: gzip)</p>
<h4 id="网络编程相关">网络编程相关</h4>
<p>说一下实现TCP建立连接的过程以及当时进入了什么状态？为什么建立连接只需要3次，断开连接需要4次？为什么断开连接时第二次和第三次要分开，不能合在一起吗？</p>
<h4 id="项目相关">项目相关</h4>
<p>说一下一个请求过来到返回response的过程
如何实现单点登录
JWT token是如何进行生成和校验的
了解过哪些后端框架？Tornado了解吗?
了解过webapp2吗
Django如何实现csrf攻击保护
说说你项目中遇到的困难以及如何解决
说说你认为自己最有成就感或最深刻的项目
对KAFKA了解吗？用过哪些消息队列？使用过RabbitMQ吗?
项目团队几个人？开发多长时间？
版本控制相关
如何从远程仓库拉取分支到本地
如何进行版本回退</p>
<p>平时是如何学习的?有关注哪些技术?
Docker的了解，常用命令，如何暴露端口
对ERP了解吗？Odoo了解吗?</p>
<h4 id="其他">其他</h4>
<p>Celery的原理和应用场景</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>celery是一个自带电池的基于python开发的分布式异步消息任务队列<span style="color:#960050;background-color:#1e0010">。</span>它主要适用于两大类场景<span style="color:#960050;background-color:#1e0010">：</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>异步<span style="color:#960050;background-color:#1e0010">：</span>有的任务执行时间较长<span style="color:#960050;background-color:#1e0010">，</span>你不想让程序一直等待结果返回<span style="color:#960050;background-color:#1e0010">，</span>可以先将改任务放入celery任务队列中<span style="color:#960050;background-color:#1e0010">，</span>并从celery获取一个任务id<span style="color:#960050;background-color:#1e0010">。</span>后续通过询问celery来得知任务执行状态和进度<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>定时<span style="color:#960050;background-color:#1e0010">：</span>需要定时执行同样的任务<span style="color:#960050;background-color:#1e0010">，</span>celery任务队列支持定时触发<span style="color:#960050;background-color:#1e0010">，</span>可以按照时间间隔或者crontab表达式来触发任务<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>celery的原理是基于发布<span style="color:#f92672">-</span>订阅模型<span style="color:#960050;background-color:#1e0010">，</span>通过一个任务队列来协调多个异步任务<span style="color:#960050;background-color:#1e0010">。</span>发布者向队列中发布任务<span style="color:#960050;background-color:#1e0010">，</span>订阅者订阅任务并获取任务执行状态<span style="color:#960050;background-color:#1e0010">。</span>celery的核心是任务队列<span style="color:#960050;background-color:#1e0010">，</span>它负责协调发布者和订阅者之间的通信<span style="color:#960050;background-color:#1e0010">。</span>
</span></span></code></pre></div><p>Elasticsearch 的原理</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>Elasticsearch 是一个分布式搜索引擎<span style="color:#960050;background-color:#1e0010">，</span>它的原理主要包括以下几个方面<span style="color:#960050;background-color:#1e0010">：</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>分布式架构<span style="color:#960050;background-color:#1e0010">：</span>Elasticsearch 采用分布式架构<span style="color:#960050;background-color:#1e0010">，</span>将索引分布在多个节点上<span style="color:#960050;background-color:#1e0010">，</span>每个节点都是一个独立的数据库<span style="color:#960050;background-color:#1e0010">，</span>可以同时支持读写操作<span style="color:#960050;background-color:#1e0010">。</span>这样可以提供高可用性和可扩展性<span style="color:#960050;background-color:#1e0010">，</span>并支持大规模的数据存储和搜索<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>分词算法<span style="color:#960050;background-color:#1e0010">：</span>Elasticsearch 使用自然语言处理技术中的分词算法<span style="color:#960050;background-color:#1e0010">，</span>对搜索请求进行分词处理<span style="color:#960050;background-color:#1e0010">。</span>分词是搜索引擎中最基本的单元<span style="color:#960050;background-color:#1e0010">，</span>准确的分词可以提高搜索结果的准确度和可靠性<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>倒排索引<span style="color:#960050;background-color:#1e0010">：</span>Elasticsearch 采用倒排索引技术<span style="color:#960050;background-color:#1e0010">，</span>将搜索请求中的关键词与索引中的文档进行匹配<span style="color:#960050;background-color:#1e0010">，</span>从而提高搜索效率<span style="color:#960050;background-color:#1e0010">。</span>倒排索引可以快速定位文档<span style="color:#960050;background-color:#1e0010">，</span>并且在搜索结果中只显示与关键词匹配的文档<span style="color:#960050;background-color:#1e0010">，</span>从而提高搜索性能<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>分片技术<span style="color:#960050;background-color:#1e0010">：</span>Elasticsearch 采用分片技术<span style="color:#960050;background-color:#1e0010">，</span>将索引分成多个分片<span style="color:#960050;background-color:#1e0010">，</span>每个分片都有自己的索引和数据<span style="color:#960050;background-color:#1e0010">，</span>从而实现分布式存储和搜索<span style="color:#960050;background-color:#1e0010">。</span>这样可以提高搜索性能<span style="color:#960050;background-color:#1e0010">，</span>并且可以在多个节点上同时进行写入操作<span style="color:#960050;background-color:#1e0010">，</span>提高数据写入性能<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>多租户支持<span style="color:#960050;background-color:#1e0010">：</span>Elasticsearch 支持多租户<span style="color:#960050;background-color:#1e0010">，</span>不同的租户可以拥有不同的数据副本和索引<span style="color:#960050;background-color:#1e0010">，</span>从而实现数据的隔离和安全访问<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>总的来说<span style="color:#960050;background-color:#1e0010">，</span>Elasticsearch 的原理就是通过分布式架构<span style="color:#960050;background-color:#1e0010">、</span>分词算法<span style="color:#960050;background-color:#1e0010">、</span>倒排索引<span style="color:#960050;background-color:#1e0010">、</span>分片技术和多租户支持等技术<span style="color:#960050;background-color:#1e0010">，</span>实现高效<span style="color:#960050;background-color:#1e0010">、</span>可靠<span style="color:#960050;background-color:#1e0010">、</span>安全的搜索服务<span style="color:#960050;background-color:#1e0010">。</span>
</span></span></code></pre></div><hr>
<p>python notes.</p>

      
      <div class="divider"></div>
      <div class="flex flex-col md:flex-row justify-between gap-4 py-4">
        
        <div></div>
        

        
        <a class="group btn btn-outline" href="/posts/program/python/django/" title="Django">
          <div class="inline-flex flex-col items-end">
            <span class="text-base-content/60 group-hover:text-neutral-content/60 text-xs font-normal">Next page</span>
            <span class="max-w-48 truncate">Django</span>
          </div>
          <ion-icon name="chevron-forward"></ion-icon>
        </a>
        
      </div>
      
    </article>
  </div>

  
  <div class="divider max-w-[65ch] mx-auto"></div>

  <section class="max-w-[65ch] mx-auto space-y-4">
    


<template x-if="['localhost', '127.0.0.1'].indexOf(window.location.hostname) == -1">
  <article>
    <script
      src="https://utteranc.es/client.js"
      repo="shiyuekitty/shiyuekitty.github.io"
      issue-term="og:title"
      theme="github-light"
      crossorigin="anonymous"
      async>
    </script>
  </article>
</template>






  </section>
  
</div>


            
            <footer class="flex justify-between items-center gap-2 px-4 py-12">
            
              <div>
  
  <p>
    © 2024 
  </p>
  

  
  <p>passion passion python !</p>
  
</div>

               



        
        <div class="social-links" style="display: flex; justify-content: center; text-align: center;">
          <a href="https://space.bilibili.com/371755002" target="_blank" style="margin: 0 10px;">
              <svg t="1730107715687" class="icon" viewBox="0 0 1024 1024" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" p-id="2325" width="36" height="36">
                  <path
                      d="M729.32864 373.94944c-9.79456-5.94432-19.06176-6.784-19.14368-6.784l-1.06496-0.0512c-57.20064-3.8656-121.1648-5.83168-190.12608-5.83168l-13.98784 0.00512c-68.95616 0-132.92544 1.96096-190.12096 5.83168l-1.06496 0.0512c-0.08192 0-9.34912 0.83968-19.14368 6.784-15.04768 9.12896-24.27392 25.94816-27.4176 49.9712-10.07104 76.91264-4.38272 173.64992 0.18944 251.392 2.93888 49.96608 33.408 62.45888 85.04832 67.1488 10.78272 0.98816 69.08928 5.86752 159.50848 5.89312v-0.00512c90.4192-0.02048 148.72576-4.90496 159.5136-5.888 51.64032-4.68992 82.10944-17.18272 85.0432-67.1488 4.57728-77.74208 10.26048-174.47936 0.18944-251.392-3.1488-24.02816-12.37504-40.84736-27.42272-49.97632z m-390.9888 172.71808a23.64928 23.64928 0 0 1-31.68768-10.84416 23.68 23.68 0 0 1 10.84416-31.68768c2.03776-1.00352 50.69312-24.72448 110.5408-43.06432a23.68 23.68 0 1 1 13.88032 45.29152c-56.2944 17.24928-103.11168 40.07424-103.5776 40.30464z m268.89728 35.88608c-0.44032 2.23232-11.26912 54.64064-50.93888 54.64064-21.44256 0-36.10112-14.04928-44.98432-26.77248-8.69376 12.70784-22.80448 26.77248-42.65472 26.77248-35.5328 0-50.13504-48.26624-51.68128-53.77024a11.3664 11.3664 0 0 1 21.87776-6.1696c2.74944 9.6512 14.1312 37.20192 29.7984 37.20192 16.37376 0 28.89216-23.64416 31.98464-31.92832a11.37152 11.37152 0 0 1 10.6496-7.38816h0.06144c4.76672 0.03072 9.0112 3.02592 10.62912 7.50592 0.10752 0.28672 11.96544 31.81568 34.31424 31.81568 20.864 0 28.56448-35.95264 28.64128-36.32128a11.34592 11.34592 0 0 1 13.35808-8.93952 11.36128 11.36128 0 0 1 8.94464 13.35296z m110.11584-46.73536a23.68 23.68 0 0 1-31.68256 10.84416c-0.47104-0.2304-47.47264-23.1168-103.57248-40.30976a23.69024 23.69024 0 0 1-15.70816-29.58336 23.66976 23.66976 0 0 1 29.57824-15.70304c59.84768 18.33984 108.49792 42.0608 110.55104 43.06432a23.68 23.68 0 0 1 10.83392 31.68768z"
                      fill="#F16C8D" p-id="2326"></path>
                  <path
                      d="M849.92 51.2H174.08c-67.8656 0-122.88 55.0144-122.88 122.88v675.84c0 67.87072 55.0144 122.88 122.88 122.88h675.84c67.87072 0 122.88-55.00928 122.88-122.88V174.08c0-67.86048-55.00928-122.88-122.88-122.88z m-36.60288 627.45088c-2.62656 44.57984-21.82144 78.63296-55.51616 98.48832-25.68192 15.13472-54.17472 19.48672-81.13664 21.9392-32.45568 2.94912-92.71808 6.09792-164.66432 6.1184-71.94112-0.02048-132.20864-3.16416-164.66432-6.1184-26.96192-2.45248-55.45472-6.80448-81.13152-21.9392-33.69472-19.85536-52.8896-53.90336-55.51104-98.4832-4.70528-80.13312-10.5728-179.85536 0.19456-262.10816C221.5424 335.16544 280.99072 311.57248 311.5008 310.37952a2482.64192 2482.64192 0 0 1 81.42336-4.08576c-7.53664-8.53504-19.88096-23.3216-28.81536-38.11328-13.73696-22.73792 8.52992-41.68704 8.52992-41.68704s23.68-20.36736 44.52864 5.21216c15.69792 19.26656 38.37952 55.99744 48.61952 72.95488l53.20704-0.21504c13.2608 0 26.33216 0.07168 39.2192 0.21504 10.24-16.95744 32.9216-53.6832 48.61952-72.95488 20.84352-25.57952 44.52864-5.21216 44.52864-5.21216s22.26176 18.94912 8.5248 41.68704c-8.9344 14.79168-21.27872 29.57824-28.81536 38.11328 28.35968 0.97792 55.56224 2.33984 81.42336 4.08064 30.5152 1.19808 89.9584 24.79104 100.61312 106.17344 10.7776 82.24768 4.9152 181.96992 0.20992 262.10304z"
                      fill="#F16C8D" p-id="2327"></path>
              </svg>
          </a>
          <a href="https://www.xiaohongshu.com/user/profile/62899336000000002102643b" target="_blank" style="margin: 0 10px;">
              <svg t="1730107775920" class="icon" viewBox="0 0 1024 1024" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" p-id="3362" width="36" height="36">
                  <path
                      d="M726.51776 457.45152c-6.70208-0.0768-13.39392 0-20.00384-0.0768-2.37056 0-3.0464 1.05984-3.0464 3.23072 0.0768 5.10976 0.0768 10.13248 0.0768 15.232v0.01024c0.07168 4.87936 0 9.7536 0.07168 14.56128 0 3.90656 0.68096 4.66944 4.45952 4.66944 7.1424 0.0768 14.27456 0 21.41696 0.0768 2.67776 0 3.72736-1.28 3.65056-3.75808-0.08704-9.1648-0.08704-18.31936-0.15872-27.48416a6.7584 6.7584 0 0 0-6.46656-6.46144z"
                      fill="#FF2E4D" p-id="3363"></path>
                  <path
                      d="M849.92 51.2h-675.84c-67.8656 0-122.88 55.0144-122.88 122.88v675.84c0 67.8656 55.0144 122.88 122.88 122.88h675.84c67.8656 0 122.88-55.0144 122.88-122.88V174.08c0-67.8656-55.0144-122.88-122.88-122.88zM250.78784 505.73312c-0.73728 10.59328-1.41312 21.25312-2.60608 31.8464-2.08896 18.39104-6.24128 36.26496-14.6432 52.864-2.16064 4.12672-5.13536 7.79776-8.18176 12.45696-1.85344-3.90656-3.41504-6.97856-4.82816-10.13248a3203.59424 3203.59424 0 0 1-14.79168-33.56672c-0.52736-1.2032-0.896-2.92352-0.36864-3.97824 3.19488-6.83008 3.41504-14.12096 3.85536-21.40672 0.60416-9.15968 1.35168-18.24256 2.01728-27.39712 0.51712-7.00416 0.80896-13.9776 1.39776-20.96128 0.67584-8.10496 1.49504-16.21504 2.16064-24.24832 0.14848-1.96608 1.04448-2.56 2.82624-2.56 11.0848 0 22.07744 0 33.16224-0.07168 2.37056 0 3.0464 0.98304 2.89792 3.23072-0.96768 14.63296-1.86368 29.28128-2.89792 43.92448z m71.29088 87.32672c-0.73728 9.46176-5.13536 17.49504-12.5696 23.5008-5.43232 4.352-11.74528 6.15936-18.6624 6.08256-5.87264 0-11.66848-0.0768-17.54112 0-2.00192 0-3.27168-0.60416-4.09088-2.55488-3.41504-7.6544-6.90688-15.32416-10.32192-22.97344-0.52736-1.13152-0.67584-2.33472-1.13152-3.456-1.63328-4.12672-1.5616-4.28544 2.97472-4.36224h13.90592c5.94944 0 8.47872-2.46784 8.5504-8.56576 0.07168-4.57216 0.07168-9.14944 0.07168-13.73696V494.2336c0.14848 0.15872 0.22016 0.15872 0.29696 0.15872V408.63744c0-4.28544 0.14848-4.43392 4.38784-4.43392h29.21472c5.13536 0 5.20704 0.14848 5.20704 5.40672 0 27.1872 0 54.36416 0.0768 81.47968 0.0768 23.87456 0.29696 47.75936 0.29696 71.6288 0 10.14272 0.14848 20.26496-0.6656 30.34112z m75.58656-28.90752c-4.98688 11.56096-10.19904 22.97344-15.31904 34.4576-0.45568 1.13664-1.19296 2.25792-2.3808 4.42368v0.01024c-2.97472-4.5056-6.0928-8.18176-8.11008-12.39552-2.82624-6.13888-4.5312-12.83584-7.35744-18.9952-3.0464-6.6816-4.15744-13.88032-5.57568-20.94592-1.1776-6.02112-1.40288-12.25216-1.8432-18.3296-1.2032-15.39584-2.23744-30.78656-3.44064-46.09536a2449.95584 2449.95584 0 0 0-2.0736-25.1648c-0.14848-1.50016 0.2304-2.176 1.94048-2.176 11.52512 0 22.97344-0.14848 34.49856-0.22016 2.1504 0 3.0464 0.96768 3.11808 2.9952 0.29696 4.65408 0.51712 9.31328 0.88576 13.97248 0.29696 3.83488 0.73728 7.6544 1.04448 11.41248 0.51712 5.40672 1.04448 10.81344 1.41312 16.14336 0.51712 6.90688 0.51712 13.81888 1.4848 20.63872 1.34144 10.4448 0.29696 21.10464 3.93216 31.32928 0.89088 2.40128-0.96768 6.08768-2.21696 8.93952z m84.28032 22.016c-2.89792 6.6816-6.02112 13.21472-8.99072 19.82464-1.64352 3.74784-3.19488 7.49568-4.76672 11.25376-1.85344 4.51072-3.11808 5.40672-7.87456 5.40672h-22.2976c-7.52128 0-15.0272 0.23552-22.53312-0.0768-3.56352-0.14336-7.0656-1.27488-10.62912-2.02752-1.792-0.36864-2.16064-1.42336-1.41312-3.14368a3709.71648 3709.71648 0 0 0 13.45024-29.21472c1.04448-2.24768 1.85344-4.65408 3.0464-6.90688 0.29696-0.6144 1.41312-1.28 2.00192-1.13152 12.42112 3.15392 25.13408 2.77504 37.76512 2.63168a874.6496 874.6496 0 0 1 20.07552 0c3.19488 0.00512 3.50208 0.45568 2.16576 3.38432z m3.84-21.86752a4.48512 4.48512 0 0 1-2.74944 1.4336c-13.89568 0.0768-27.8784 0.14848-41.77408-0.0768-4.23936-0.08704-8.5504-1.05472-11.74528-4.28544-3.3536-3.3792-4.98688-7.36256-3.28192-11.93984a897.52576 897.52576 0 0 1 9.58464-24.10496c3.88096-9.15456 7.81312-18.31936 12.05248-28.2368-2.30912-0.14848-3.712-0.29696-5.04832-0.29696-4.09088-0.07168-8.18176 0.29696-12.27264-0.2304-4.45952-0.51712-8.99072-1.04448-12.48256-4.79232-3.42528-3.6864-3.94752-8.04352-2.60608-12.32384 2.1504-6.83008 4.97664-13.44 7.80288-20.04992 2.67776-6.15424 5.72416-12.16 8.47872-18.24256 2.97472-6.53824 5.86752-13.07136 8.77056-19.6096a1361.99168 1361.99168 0 0 0 7.6544-17.33632c0.73728-1.80736 1.8688-2.47808 3.87072-2.47808 10.93632 0.07168 21.92896 0 32.86528 0 3.6352 0 3.712 0.36864 2.29888 3.6864-6.31296 14.63296-12.71808 29.20448-18.95936 43.84768a11.52 11.52 0 0 0-1.19296 4.87936c0.22016 3.90656 1.04448 4.5056 5.06368 4.5056 8.17152 0.0768 16.35328 0 24.448 0 1.64864 0 3.3536 0.22016 4.98688 0.29696 2.30912 0.0768 2.60608 1.05984 1.63328 3.072a2455.21408 2455.21408 0 0 0-13.3888 29.21472c-3.03616 6.91712-5.93408 13.89568-8.9088 20.8128a1530.1632 1530.1632 0 0 1-6.1696 13.80864c-1.94048 4.20352-0.60416 6.31296 4.15232 6.38976 6.02112 0 12.04224 0.0768 18.05824 0 2.08896 0 3.13344 0.60416 2.08896 2.85184-3.6352 8.25344-7.21408 16.58368-10.84928 24.85248-0.67072 1.50016-1.408 3.072-2.3808 4.352z m134.81472 58.73664h-125.3376c-1.72032-0.22016-3.48672-0.22016-5.94432-0.22016v-0.01536c0.88064-2.61632 1.41312-4.41856 2.1504-6.0672 4.69504-10.29632 9.4464-20.5056 14.0544-30.79168 1.04448-2.33472 2.52928-2.92352 4.75648-2.92352h28.6976c4.54656 0 4.75648-0.2304 4.75648-4.74112V461.66016c0-3.97824-0.0768-4.05504-4.08064-4.05504-6.10304 0-12.26752-0.0768-18.36544 0-2.30912 0-3.27168-0.51712-3.27168-3.1488 0.14848-10.97216 0.0768-21.92896 0.0768-32.88576 0-3.90656 0.0768-3.90656 3.86048-3.90656h73.00096c4.23936 0 8.5504 0.0768 12.78976 0 2.01728 0 2.82624 0.82432 2.74944 2.85184-0.0768 11.41248-0.0768 22.82496-0.0768 34.31424 0 2.02752-0.73728 2.77504-2.82624 2.77504-6.6048-0.0768-13.14304 0.07168-19.77856 0.07168-2.29376 0-3.33824 1.05984-3.33824 3.46624 0.0768 18.39104 0.14336 36.7104 0.14336 55.11168 0 20.87424 0 41.74848 0.0768 62.6944 0 3.75808 0.36864 4.21376 4.17792 4.21376h31.4368c3.41504 0 3.87072 0.36864 3.93728 3.81952 0.08704 10.97216 0 21.92896 0.08704 32.89088-0.01024 2.8672-1.57184 3.16416-3.73248 3.16416z m198.69696-34.92864c-0.14848 16.37376-11.008 29.21472-26.38848 32.89088-4.31616 1.05472-8.78592 1.35168-13.24544 1.5104-6.83008 0.22016-13.7472 0.07168-20.58752 0.07168-4.23936 0-5.42208-0.83456-6.9888-4.66432-3.33824-7.95136-6.83008-15.90784-10.26048-23.87456l-0.66048-1.57184c-1.19296-3.072-0.81408-3.61472 2.45248-3.61472 9.43616-0.07168 18.95424 0.15872 28.3904-0.29184 5.65248-0.29696 8.03328-2.85696 8.18688-8.64256 0.22016-11.04384-0.29696-22.07744-0.14848-33.11104 0.0768-5.48864-6.84032-11.42272-11.74528-11.71968a32.8448 32.8448 0 0 0-2.74944-0.14336c-18.73408 0-37.54496 0-56.2688 0.07168-5.27872 0-5.65248 0.53248-5.65248 5.8624l0.20992 77.55776c0 4.14208-0.0768 4.21376-4.23936 4.21376h-31.22176c-4.01408 0-4.3008-0.3072-4.3008-4.28544v-39.94112c0.06144 0.14336 0.13312 0.14336 0.20992 0.14336v-40.99584c0-2.78016-1.85344-2.93888-3.78368-2.93888-10.19392 0.08704-20.44416 0.31232-30.62272 0.31232-6.92224 0-6.17984 0.8192-6.25664-6.38976-0.0768-9.90208 0-19.90144 0-29.80352 0-3.59936 0.36864-4.05504 3.94752-4.13184 10.7008-0.07168 21.33504 0 32.04096-0.07168 4.09088 0 4.31104-0.15872 4.38272-4.21376 0.0768-9.90208-0.0768-19.8144 0-29.73184 0-2.4832-1.04448-3.23072-3.41504-3.23072-6.84544 0.0768-13.76256-0.07168-20.60288 0-2.1504 0-2.89792-0.74752-2.89792-2.92352 0.09216-11.26912 0.09216-22.46144-0.06144-33.72544 0-2.70336 1.03424-3.29216 3.41504-3.29216 6.31296 0.0768 12.6464 0 18.95936 0 4.23424 0 4.45952-0.3072 4.5312-4.74112 0-2.61632 0.14848-5.24288 0-7.87456-0.07168-2.4832 1.04448-3.15904 3.34336-3.15904 9.07776 0.0768 18.22208 0.0768 27.28448 0.0768h4.97664c3.94752 0 4.0192 0 4.1728 4.05504 0.06656 2.4064-0.1536 4.87936-0.08704 7.28576 0.0768 3.3792 0.9728 4.2752 4.31616 4.36224 5.65248 0.0768 11.30496 0.0768 17.024 0.0768 14.6432 0.07168 27.3664 5.09952 37.0176 16.29184 5.35552 6.22592 8.69888 13.81888 9.216 22.14912 0.52736 8.47872 0.15872 17.03936 0.3072 25.52832 0 3.15904 0.22016 6.38976 0.36864 9.53344 0.14336 3.15904 0.896 3.97824 4.09088 3.90656a48.56832 48.56832 0 0 1 19.03104 3.15904c13.00992 5.03808 21.03296 14.18752 23.63904 28.01152a44.4416 44.4416 0 0 1 0.73728 8.33024c0.08192 17.88928 0.06656 35.78368-0.06656 53.6832zM810.14272 453.632c-5.94432 3.90656-12.1856 3.75808-19.4048 3.6864-2.23744 0-5.20192 0.07168-8.09984-0.0768-0.7424-0.07168-2.00704-0.98304-2.08896-1.5872-0.6656-8.84736-1.77152-17.792 1.35168-26.35264 2.75456-7.5776 9.58464-12.01664 17.61792-12.16a19.99872 19.99872 0 0 1 19.32288 14.336c2.30912 8.2688-1.55648 17.42336-8.69888 22.15424z"
                      fill="#FF2E4D" p-id="3364"></path>
              </svg>
          </a>
          <a href="https://www.douyin.com/user/MS4wLjABAAAAJ-Zuvmjv1FEQFna4yoy0E2mu_QnO_CG4r9mMMjMWbFk"
              target="_blank" style="margin: 0 10px;">
              <svg t="1730107822092" class="icon" viewBox="0 0 1024 1024" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" p-id="4441" width="36" height="36">
                  <path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#333333" p-id="4442">
                  </path>
                  <path
                      d="M759.296 448.512c-48.896 0-96.256-15.872-135.424-45.056v204.8c0 104.448-80.64 189.184-179.968 189.184s-179.968-84.736-179.968-189.184 80.64-189.184 179.968-189.184c9.984 0 19.712 0.768 28.928 2.56V529.92c-8.96-3.584-18.688-5.376-28.16-5.376-44.288 0-80.384 37.632-80.384 84.48s36.096 84.48 80.384 84.48 80.128-37.632 80.128-84.48V202.24h100.352c0 78.336 60.416 141.568 134.656 141.568v104.704h-0.512"
                      fill="#FFFFFF" p-id="4443"></path>
              </svg>
          </a>
          <a href="https://www.zhihu.com/people/yuekitty" target="_blank" style="margin: 0 10px;">
              <svg t="1730107862301" class="icon" viewBox="0 0 1024 1024" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" p-id="5432" width="36" height="36">
                  <path d="M656.90624 724.29056l47.42144-33.72544h52.68992V344.89856h-143.31904v346.7264h35.82976z"
                      fill="#0066FF" p-id="5433"></path>
                  <path
                      d="M849.92 51.2H174.08c-67.8656 0-122.88 55.0144-122.88 122.88v675.84c0 67.8656 55.0144 122.88 122.88 122.88h675.84c67.8656 0 122.88-55.0144 122.88-122.88V174.08c0-67.8656-55.0144-122.88-122.88-122.88zM495.66208 803.34848l-101.1712-157.05088 44.26752-31.616 67.45088 98.00704c-0.00512 0 23.17824 37.99552-10.5472 90.65984z m38.99392-276.10112v25.2928H408.19712C357.61152 876.06784 204.8 807.04512 204.8 807.04512c140.16512-109.86496 142.7968-254.50496 142.7968-254.50496H208.49152c0-57.9584 52.16256-56.91392 52.16256-56.91392h93.79328v-151.7568h-50.5856C284.89728 429.2352 204.8 425.02144 204.8 425.02144s32.67072-50.5856 54.79936-137.00096c22.12864-86.42048 89.5744-76.928 89.5744-76.928-20.0192 35.82976-29.50656 76.928-29.50656 76.928H485.12c40.04864 0 37.9392 25.2928 37.9392 25.2928v29.51168H411.35616v152.8064H503.04c33.72544 0 31.616 31.616 31.616 31.616zM819.2 747.49952h-102.22592l-88.51968 55.84896-8.42752-55.84896h-64.29184V288.01536H819.2v459.48416z"
                      fill="#0066FF" p-id="5434"></path>
              </svg>
          </a>
          
      </div>
              <div
  x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center h-[32px] px-2 gap-2 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

            </footer>
          </div>
        </div>
        <div class="back">
          <div class="container">
            
            <div class="dream-grid">
  
  
  
  <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column">
    <article
      class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl dark:border dark:border-base-content/30"
    >
      <div class="card-body">
        <div class="card-title">Me</div>

        <div class="prose dark:prose-invert">
          <p>my name is ShiYue.</p>
<p>This is my blog website.</p>
        </div>
      </div>
    </article>
  </div>
  
  

  

  
</div>

            
          </div>
        </div>
      </div>
    </div>

           

    <script>
  window.lightTheme = "emerald"
  window.darkTheme = "forest"
</script>


  <script src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>

  
  
  <script src="/js/grid.js"></script>




<script src="/js/main.js"></script>

    


<script
  src="https://cdn.jsdelivr.net/npm/luxon@1.26.0"
  integrity="sha256-4sbTzmCCW9LGrIh5OsN8V5Pfdad1F1MwhLAOyXKnsE0="
  crossorigin="anonymous"
></script>
<script>
  format()

  function format() {
    document.querySelectorAll('span[data-format="luxon"]').forEach(el => {
      const date = el.textContent

      el.textContent = luxon.DateTime.fromISO(date, { locale: "en" }).toFormat("yyyy年MM月dd日")
    })
  }
</script>







    

    

    
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=..."></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', '...');
        }
      </script>
    

    <script type="module" src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.js"></script>
  </body>
</html>
